import{d as I}from"./fileDownload-B1vhVzTR.js";import{v as P}from"./FileUpload-BDujieA5.js";import{u as U}from"./useClipboard-KqVwDR14.js";import{u as A}from"./useDebounce-CBVJKzh1.js";import{T as W,S as L,u as M}from"./ToolPageHeader-TgTx7KLi.js";import{T as z,F as H}from"./TextInputWithActions-Ca2jwfS9.js";import{_ as N,c as D,a as n,w as c,r as _,b as R,d as r,o as X,e as T}from"./index-Be9HKwpV.js";const Z={name:"Base64Encode",components:{FileUploadWithValidation:H,SharedSnackbar:L,TextInputWithActions:z,ToolPageHeader:W},setup(){const o=_(""),s=_(!1),e=_(null),d=_(""),{snackbar:V,snackbarText:x,snackbarColor:i,showSnackbar:a}=M(),{copyToClipboard:u,pasteFromClipboard:h}=U(),m=R(()=>!!e.value),p=()=>{if(!d.value){o.value="";return}s.value=!0;try{o.value=btoa(d.value),s.value=!1}catch(l){console.error("Encoding error:",l),a("❌ Failed to encode text","error"),s.value=!1}},b=()=>{o.value="",S()},F=()=>{d.value="",o.value="",s.value=!1},t=async()=>{await h((l,f)=>{d.value=l,a(f,"success"),b()},l=>a(l,"error"))},E=async()=>{await u(o.value,l=>a(l,"success"),l=>a(l,"error"))},C=()=>{},y=()=>{if(!e.value){a("❌ Please select a file","error");return}const l=P(e.value);if(!l.isValid){a(l.message,"error");return}if(e.value.size>10485760){a("❌ File too large for Base64 encoding. Maximum size is 10 MB.","error");return}const f=e.value,v=new FileReader;v.onload=()=>{try{const w=v.result.split(",")[1],k=new Blob([w],{type:"text/plain"}),B=f.name+".base64";I(k,B),a("✓ File encoded and downloaded!","success"),e.value=null}catch(w){console.error("File encoding error:",w),a("❌ Failed to encode file","error")}},v.onerror=()=>{console.error("File reading error"),a("❌ Failed to read file","error")},v.readAsDataURL(f)},{debounce:S}=A(p,350);return{encodedText:o,isLoading:s,plainFile:e,plainText:d,snackbar:V,snackbarColor:i,snackbarText:x,canEncodeFile:m,encodeFile:y,handleClear:F,handleCopy:E,handleFileValidation:C,handlePaste:t,scheduleEncode:b}}};function O(g,o,s,e,d,V){const x=r("ToolPageHeader"),i=r("v-icon"),a=r("v-card-title"),u=r("TextInputWithActions"),h=r("v-divider"),m=r("v-card-text"),p=r("v-card"),b=r("FileUploadWithValidation"),F=r("SharedSnackbar");return X(),D("div",null,[n(x,{title:"Base64 Encoder",description:"Convert text or files to Base64 format",icon:"mdi-arrow-down-bold-box","avatar-color":"secondary"}),n(p,{class:"mb-4"},{default:c(()=>[n(a,{class:"bg-surface-variant"},{default:c(()=>[n(i,{icon:"mdi-text",class:"mr-2"}),T(" Text Encoding ")]),_:1}),n(m,{class:"pa-4"},{default:c(()=>[n(u,{modelValue:e.plainText,"onUpdate:modelValue":o[0]||(o[0]=t=>e.plainText=t),label:"Plain Text",placeholder:"Enter your plain text here",rows:4,"show-paste":!0,"show-clear":!0,"show-copy":!1,"row-class":"mb-4","test-id":"plain-text-input",onPaste:e.handlePaste,onClear:e.handleClear,onInput:e.scheduleEncode},null,8,["modelValue","onPaste","onClear","onInput"]),n(h,{class:"my-4"}),n(u,{modelValue:e.encodedText,"onUpdate:modelValue":o[1]||(o[1]=t=>e.encodedText=t),label:"Base64 Encoded Output",placeholder:"Base64 encoded text will appear here",rows:4,"is-loading":e.isLoading,readonly:!0,"show-paste":!1,"show-clear":!1,"show-copy":!0,"test-id":"output-text",onCopy:e.handleCopy},null,8,["modelValue","is-loading","onCopy"])]),_:1})]),_:1}),n(p,null,{default:c(()=>[n(a,{class:"bg-surface-variant"},{default:c(()=>[n(i,{icon:"mdi-file",class:"mr-2"}),T(" File Encoding ")]),_:1}),n(m,{class:"pa-4"},{default:c(()=>[n(b,{modelValue:e.plainFile,"onUpdate:modelValue":o[2]||(o[2]=t=>e.plainFile=t),label:"Select a file to encode","button-text":"Encode File","button-icon":"mdi-arrow-down-bold-box","can-submit":e.canEncodeFile,onSubmit:e.encodeFile,onValidationChange:e.handleFileValidation},null,8,["modelValue","can-submit","onSubmit","onValidationChange"])]),_:1})]),_:1}),n(F,{modelValue:e.snackbar,"onUpdate:modelValue":o[3]||(o[3]=t=>e.snackbar=t),text:e.snackbarText,color:e.snackbarColor},null,8,["modelValue","text","color"])])}const $=N(Z,[["render",O],["__scopeId","data-v-677e10b7"]]);export{$ as default};
