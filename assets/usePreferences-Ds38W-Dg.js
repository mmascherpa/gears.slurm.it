import{B as i,k as f}from"./index-fTqGz_jn.js";const a="slurm-pref-";function p(r){try{const e=localStorage.getItem(r);if(e)return JSON.parse(e)}catch(e){console.warn(`Failed to read preferences from localStorage (${r}):`,e)}return null}function y(r,e){try{localStorage.setItem(r,JSON.stringify(e))}catch(o){console.warn(`Failed to save preferences to localStorage (${r}):`,o)}}function g(r,e){if(r==null)return e;const o=typeof e;return o!==typeof r||o==="number"&&!Number.isFinite(r)?e:r}function S(r,e){const o=`${a}${r}`,n=p(o),s={...e};if(n&&typeof n=="object")for(const t of Object.keys(e))t in n&&(s[t]=g(n[t],e[t]));const c=i(s);return f(()=>({...c}),t=>{y(o,t)},{deep:!0}),{preferences:c,resetPreferences:()=>{for(const t of Object.keys(e))c[t]=e[t]}}}export{S as u};
